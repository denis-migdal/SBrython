var e={114:(e,t,r)=>{r.d(t,{q0:()=>o});let n=0;const o=n++;n++,n++,n++,n++,n++,n++,n++,n++,n++,n++,n++,n++,n++,n++,n++,n++,n++,n++,n++,n++,n++,n++,n++,n++,n++,n++,n++,n++,n++,n++,n++,n++,n++,n++,n++,n++,n++,n++,n++,n++,n++,n++,n++,n++,n++,n++,n++,n++,n++,n++,n++,n++,n++,n++,n++},1494:(e,t,r)=>{r.d(t,{A:()=>n});const n={assert:function(e,t="Assertion failed"){if(!e)throw new Error(t)}}},2436:(e,t,r)=>{r.d(t,{A:()=>o});let n={};const o={kw:e=>{n=e},getKW:()=>{const e=n;return n={},e}}},2725:(e,t,r)=>{r.d(t,{A:()=>o});var n=r(7156);class o extends n.A{}},3003:(e,t,r)=>{r.d(t,{A:()=>n});const n={float2str:e=>{if(e<=1e-5||e>=1e16){let t=e.toExponential();const r=t.length-2;return"-"!==t[r]&&"+"!==t[r]||(t=t.slice(0,r+1)+"0"+t.slice(r+1)),t}let t=e.toString();return t.includes(".")||(t+=".0"),t}}},3390:(e,t,r)=>{r.d(t,{A:()=>o});class n extends Error{python_exception;constructor(e){super(),e._raw_err_=this,this.python_exception=e}}const o={PythonError:n}},4886:(e,t,r)=>{r.d(t,{Ay:()=>i});var n=r(114),o=r(7059);function s(e,t){console.warn("Exception",e);const r=function(e,t){const r="Error"===(e=e.split("\n"))[0];return function(e){return e.filter((e=>e.includes("brython_")))}(e).map((e=>{let[s,i,l]=e.split(":");")"===l[l.length-1]&&(l=l.slice(0,-1));let c,a=+i-2,d=+l;if(--d,r){let e=s.indexOf(" ",7);c=s.slice(7,e),"eval"===c&&(c="<module>");const r=(t.getASTFor("sbrython_editor.js").nodes,null);(0,o.NW)(r)===n.q0&&(d+=o.tT[r].length)}else{let e=s.indexOf("@");c=s.slice(0,e),"anonymous"===c&&(c="<module>")}return[c,a,d]}))}(e._raw_err_.stack,t);!function(e,t){e.map((e=>function(e,t){return t.getASTFor("sbrython_editor.js").nodes,e[1],e[2],null}(e,t)))}(r,t);let s=`Traceback (most recent call last):\n  ${r.map(((e,t)=>`File "[file]", line 0, in ${r[t][0]}`)).join("\n  ")}\nException: [msg]`;console.log(s)}const i={debug_print_exception:s,get_py_exception:function(e,t){const r=e instanceof _sb_.PythonError?e.python_exception:new _r_.JSException(e);return s(r,t),r}}},6262:(e,t,r)=>{r.d(t,{A:()=>n});const n={abs:e=>e>=0?e:-e}},7059:(e,t,r)=>{r.d(t,{NW:()=>_,tT:()=>l});const n=Float64Array,o=33600,s=new ArrayBuffer(o,{maxByteLength:o}),i=new ArrayBuffer(o,{maxByteLength:o}),l=(new n(s),new n(i),new Array),c=0,a=5,d=8*a*2100,u=new n(new ArrayBuffer(d,{maxByteLength:d}));function _(e){return u[e*a+c]}},7156:(e,t,r)=>{r.d(t,{A:()=>n});class n{}},7423:(e,t,r)=>{r.d(t,{A:()=>n});const n={floordiv_float:(e,t)=>Math.floor(e/t),floordiv_int:(e,t)=>{let r=e/t;return r>0||e%t===0n?r:--r},mod_float:(e,t)=>{const r=(e%t+t)%t;return 0===r&&t<0?-0:r},mod_int:(e,t)=>(e%t+t)%t}},8696:(e,t,r)=>{function n(e,t){const r=Object.getOwnPropertyDescriptors(t),n=Object.entries(r).filter((([t])=>!(t in e)));Object.defineProperties(e,Object.fromEntries(n))}r.d(t,{A:()=>o});const o={mix:function(e,...t){class r extends e{}for(let e=0;e<t.length;++e)n(r,t[e]),n(r.prototype,t[e].prototype);return r}}},9146:(e,t,r)=>{r.d(t,{A:()=>o});var n=r(2725);class o extends n.A{}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,r),s.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var n={};r.d(n,{a6:()=>i,jV:()=>o,CU:()=>s});const o={object:r(7156).A,JSException:r(9146).A,Exception:r(2725).A},s={...r(4886).Ay,...r(3390).A,...r(7423).A,...r(8696).A,...r(3003).A,...r(2436).A,...r(1494).A,...r(6262).A};class i{#e={};register(e,t){this.#e[e]=t}#t={};buildModule(e,t){if(t.filename in this.#t)throw new Error(`AST ${t.filename} already registered!`);return this.#t[t.filename]=t,new Function("__SBRY__",e)}runJSCode(e,t){this.#e[t.filename]=this.buildModule(e,t)(this)}getModules(){return this.#e}getModule(e){return this.#e[e]}getASTFor(e){return this.#t[e]}print(...e){console.log(...e)}get _r_(){return"NONE"===globalThis.__SBRY_COMPAT__?null:o}get _sb_(){return"NONE"===globalThis.__SBRY_COMPAT__?null:s}}globalThis.__SBRY__=new i;var l=n.a6,c=n.jV,a=n.CU;export{l as SBrython,c as _r_,a as _sb_};
//# sourceMappingURL=index.js.map